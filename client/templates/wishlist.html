{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container" style="max-width: 900px; margin: 40px auto; min-height: 400px;">
    <h3 style="margin-bottom: 20px; font-weight: 600;">My Wishlist ({{ wishlist_items.count }})</h3>

    {% if wishlist_items %}
        <div class="row">
            {% for item in wishlist_items %}
            <div class="col-md-12">
                <div style="display: flex; align-items: center; background: #fff; border: 1px solid #e0e0e0; padding: 15px; margin-bottom: 15px; border-radius: 4px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    
                    <div style="width: 100px; height: 100px; text-align: center;">
                        {% if item.product %}
                            <img src="{{ item.product.image.url }}" style="max-height: 100%; max-width: 100%;">
                        {% elif item.fashion_item %}
                            <img src="{{ item.fashion_item.image.url }}" style="max-height: 100%; max-width: 100%;">
                        {% endif %}
                    </div>

                    <div style="flex: 1; padding-left: 20px;">
                        <h5 style="font-size: 16px; margin-bottom: 5px;">
                            {% if item.product %}{{ item.product.name }}
                            {% elif item.fashion_item %}{{ item.fashion_item.brand }} - {{ item.fashion_item.name }}
                            {% endif %}
                        </h5>
                        
                        <div style="font-size: 18px; font-weight: 600; color: #212121; margin-bottom: 10px;">
                            {% if item.product %}₹{{ item.product.price }}
                            {% elif item.fashion_item %}₹{{ item.fashion_item.base_price }}
                            {% endif %}
                        </div>

                        <span style="background: #388e3c; color: white; padding: 2px 6px; font-size: 12px; border-radius: 3px;">4.5 ★</span>
                    </div>

                    <div style="text-align: right;">
                        <a href="{% url 'remove_wishlist' item.id %}" style="color: #878787; text-decoration: none; font-size: 20px;">
                            <i class="fa fa-trash"></i>
                        </a>
                    </div>

                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div style="text-align: center; padding: 50px;">
            <img src="https://static-assets-web.flixcart.com/www/linchpin/fk-cp-zion/img/myorders-empty_4b3127.png" height="150">
            <h4>Your Wishlist is Empty!</h4>
            <a href="{% url 'home' %}" class="btn btn-primary" style="margin-top: 15px;">Start Shopping</a>
        </div>
    {% endif %}
</div>
{% endblock %}